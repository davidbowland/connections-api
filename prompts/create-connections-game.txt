# {"anthropicVersion":"bedrock-2023-05-31","maxTokens":10000,"model":"us.anthropic.claude-sonnet-4-5-20250929-v1:0","temperature":0.8,"topK":500}

<instructions>
<context>
"Connections" is a word game where the goal is to choose associated words

- There are 4 categories
- Each category has 4 associated words
- No categories or words should be offensive or indecent
- No categories or words should overlap
</context>
<steps>
- The context shows category themes, disallowed categories, and words for inspiration.
- Generate 4 unique categories
  - ALWAYS abide by categoryConstraints, if provided
  - ALWAYS consider the word constraints (wordConstraints), if provided
  - ALWAYS use at least one inspiration word or a similar word following categoryConstraints in the category (inspirationAdjectives/inspirationNouns/inspirationVerbs), but use normal casing
  - NEVER generate a category that is similar to disallowed categories another category ("weather" and "storms" are too similar)
  - Categories should highly specific and surprising (e.g., "BACKWARDS ANIMALS", "SECOND WORDS IN TITLES OF ABBA HITS", "ORGAN PLUS A LETTER") or have clever framing
- Generate 7 unique words for each category, then pick the best 4 based on:
  - NO CATEGORIES CAN SHARE A WORD
  - Words can contain spaces or hyphens, as long as they're one concept (e.g. "FIRE EXTINGUISHER", "CUP HOLDER", "RINKY-DINK")
    - Use surprising twists like "GRUMPY OLD MAN" instead of "Carl from Up"
  - ALWAYS generate words that make sense with the category.
  - ALWAYS follow the word constraints (wordConstraints), if provided
  - Generate words that are EXTREMELY difficult to guess. Difficult to guess words:
    - Appear to fit in more than one category
    - Have multiple meanings (for example, a `draft` paper vs `draft` into the army)
    - Are different from other words in the category
    - Are not obvious to a category (for example, `bailiff` and `judge` together are too obvious)
  - NEVER include words from the category
  - All words must be uppercase
- Generate a hint for each category
  - Phrase the hint as a question
  - The hint must be vague enough to be a hint. DO NOT give the solution by rephrasing the category, but introduce new information
  - NEVER use any words from the category name
  - NEVER ask what things have in common
</steps>
<categoryConstraints>
KEY INSIGHT: Rely on lateral thinking, wordplay, actions, and  rather than categorical knowledge. ONLY group words that have SURPRISING or CLEVER connections

- For spelling categories with embedded patterns, ensure ALL words contain the identical substring (e.g., "ONE" appears in "MONEY", "PHONE", "STONE", "ALONE") and are not identical ("ONE" doesn't appear in "ONE") and don't all appear in the same place ("DAY" always at the end of "EVERDAY" and "SOMEDAY")
  - Ensure the embedded pattern is itself a word of at least 4, preferably 5 or more letters, OR the embedded letters change each time (e.g. "PEAR" in "SPEAR" and "PLUM" in "PLUMBER" are both fruits, or categories "ENDING IN COLORS" or "STARTING WITH SYNONYMS FOR 'EAT'")
- Create categories and prioritize words that have multiple meanings or unexpected secondary connections. Avoid obvious groupings
- Use abstract functional relationships. Include groupings by what things DO rather than what they ARE
- Include categories requiring specialized knowledge -- pop culture, sports, technical terms, proper nouns
- ALWAYS ensure words could plausibly fit in multiple categories. This creates crucial MISDIRECTION
- Avoid categories where all words obviously belong to the same semantic field -- no "cat behaviors" or "types of drinks"
- Focus on surprising connections that make solvers think 'I never would have thought of that'
- If any category relies on word spelling, double-check that the spelling constraints are followed. Then, triple-check
</categoryConstraints>
<format>
- Output should be in valid JSON format. Pay special attention to syntax, including escaping \" and \n
- The output will be a JSON object consisting of one key:
  - categories -- a JSON object where each key is one of the 4 generated categories and the value is an object where key `words` is list of associated words, `hint` is the hint, and `embeddedSubstrings` is an array of substrings that all words must contain (empty array if not a spelling category)
- Including your thinking in <thinking> tags as a preamble, but use no other preambles or code blocks.
</format>
<context>
${context}
</context>
</instructions>

<example_output>
{
  "categories": {
    "Boast": {
      "hint": "What might someone do when they're proud?",
      "words": ["BLUSTER", "CROW", "SHOW OFF", "STRUT"],
      "embeddedSubstrings": []
    },
    "Arc-shaped things": {
      "hint": "Do you see a curvy theme?",
      "words": ["BANANA", "EYEBROW", "FLIGHT PATH", "RAINBOW"],
      "embeddedSubstrings": []
    },
    "Cereal mascots": {
      "hint": "Have you seen some of these words during your morning routine?",
      "words": ["COUNT", "ELVES", "LEPRECHAUN", "ROOSTER"],
      "embeddedSubstrings": []
    },
    "Ways to denote a citation": {
      "hint": "Would you use any of these while writing an essay?",
      "words": ["ASTERISK", "DAGGER", "NUMBER", "PARENS"],
      "embeddedSubstrings": []
    }
  }
}
</example_output>
<example_output>
{
  "categories": {
    "Black-and-white things": {
      "hint": "Do you see a color theme?",
      "words": ["CROSSWORD", "OREO", "PANDA", "TUXEDO"],
      "embeddedSubstrings": []
    },
    "Military clothing descriptors": {
      "hint": "How is your fashion sense?",
      "words": ["CAMO", "DRAB", "FATIGUE", "KHAKI"],
      "embeddedSubstrings": []
    },
    "Presidental nicknames": {
      "hint": "Do any words strike you as informal?",
      "words": ["ABE", "CAL", "DICK", "TEDDY"],
      "embeddedSubstrings": []
    },
    "Words containing numbers": {
      "hint": "Can you count on any of these?",
      "words": ["HONEST", "NETWORK", "LISTEN", "COMPONENT"],
      "embeddedSubstrings": ["ONE", "TWO", "TEN"]
    }
  }
}
</example_output>

<example>
<category>Wax ___</category>
<hint>Could any words share an adjective?</hint>
<words><word>MUSEUM</word><word>PAPER</word><word>POETIC</word><word>SEAL</word></words>
</example>
<example>
<category>Clear as __</category>
<hint>What is the opposite of opaque?</hint>
<words><word>BELL</word><word>CRYSTAL</word><word>DAY</word><word>MUD</word></words>
</example>
<example>
<category>Associated with Freud</category>
<hint>When is a cigar just a cigar?</hint>
<words><word>DREAMS</word><word>ID</word><word>OEDIPUS</word><word>SLIP</word></words>
</example>
<example>
<category>Words after "T"</category>
<hint>Who is your cell provider?</hint>
<words><word>MOBILE</word><word>PAIN</word><word>REX</word><word>SHIRT</word></words>
</example>
<example>
<category>Words containing "ONE"</category>
<hint>Can you find a common thread?</hint>
<words><word>MONEY</word><word>PHONE</word><word>STONE</word><word>ALONE</word></words>
<embeddedSubstrings>["ONE"]</embeddedSubstrings>
</example>
<example>
<category>Items in a sewing kit</category>
<hint>Could you find some things in the same place?</hint>
<words><word>BUTTON</word><word>NEEDLE</word><word>SCISSORS</word><word>THREAD</word></words>
</example>
<example>
<category>Capture on video</category>
<hint>Are you a shutterbug?</hint>
<words><word>FILM</word><word>RECORD</word><word>SHOOT</word><word>TAPE</word></words>
</example>
<example>
<category>Pro wrestling icons, with "The"</category>
<hint>Have you heard of Hulk Hogan?</hint>
<words><word>HITMAN</word><word>ROCK</word><word>SNAKE</word><word>UNDERTAKER</word></words>
</example>
<example>
<category>Mettle</category>
<hint>Does GRIT always mean sand or small pebbles?</hint>
<words><word>FIGHT</word><word>GRIT</word><word>RESOLVE</word><word>SPIRIT</word></words>
</example>
<example>
<category>Figures in classic Disney animated films</category>
<hint>Are you a fan of older cartoons?</hint>
<words><word>ELEPANT</word><word>FAWN</word><word>MARIONETTE</word><word>MOUSE</word></words>
</example>
</example_categories>
